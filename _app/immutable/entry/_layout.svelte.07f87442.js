import{S as C,i as D,s as I,C as L,k as d,q as w,a as N,e as k,l as h,m,r as $,h as f,c as S,p as v,n as y,b as p,D as b,E as j,g as E,d as A,F as r,G as q,H,I as V,J as F}from"../chunks/index.b4e3455d.js";import{b as G,a as J,v as z,g}from"../chunks/state.f5148a6b.js";function B(i){return{c:r,l:r,m:r,p:r,i:r,o:r,d:r}}function K(i){let e;const l=i[3].default,a=q(l,i,i[2],null);return{c(){a&&a.c()},l(t){a&&a.l(t)},m(t,c){a&&a.m(t,c),e=!0},p(t,c){a&&a.p&&(!e||c&4)&&H(a,l,t,t[2],e?F(l,t[2],c,null):V(t[2]),null)},i(t){e||(E(a,t),e=!0)},o(t){A(a,t),e=!1},d(t){a&&a.d(t)}}}function M(i){let e,l;return{c(){e=d("h1"),l=w("Authenticating...")},l(a){e=h(a,"H1",{});var t=m(e);l=$(t,"Authenticating..."),t.forEach(f)},m(a,t){p(a,e,t),b(e,l)},p:r,i:r,o:r,d(a){a&&f(e)}}}function O(i){let e,l,a,t,c,u,s={ctx:i,current:null,token:null,hasCatch:!1,pending:M,then:K,catch:B,value:4,blocks:[,,,]};return L(i[1](),s),{c(){e=d("div"),l=d("div"),a=w("Loading..."),t=N(),c=k(),s.block.c(),this.h()},l(n){e=h(n,"DIV",{class:!0});var o=m(e);l=h(o,"DIV",{style:!0,class:!0});var _=m(l);a=$(_,"Loading..."),_.forEach(f),o.forEach(f),t=S(n),c=k(),s.block.l(n),this.h()},h(){v(l,"display",i[0]?"block":"none"),y(l,"class","svelte-9tjcl8"),y(e,"class","loading-wrap svelte-9tjcl8")},m(n,o){p(n,e,o),b(e,l),b(l,a),p(n,t,o),p(n,c,o),s.block.m(n,s.anchor=o),s.mount=()=>c.parentNode,s.anchor=c,u=!0},p(n,[o]){i=n,(!u||o&1)&&v(l,"display",i[0]?"block":"none"),j(s,i,o)},i(n){u||(E(s.block),u=!0)},o(n){for(let o=0;o<3;o+=1){const _=s.blocks[o];A(_)}u=!1},d(n){n&&f(e),n&&f(t),n&&f(c),s.block.d(n),s.token=null,s=null}}}function P(i,e,l){let{$$slots:a={},$$scope:t}=e,c=!1;G(s=>{l(0,c=!0)}),J(()=>{l(0,c=!1)});async function u(){const{valid:s,type:n,useAuth:o}=await z();if(location.pathname!="/test"&&o)return s&&o?g(`/${n}`):g("/")}return i.$$set=s=>{"$$scope"in s&&l(2,t=s.$$scope)},[c,u,t,a]}class T extends C{constructor(e){super(),D(this,e,P,O,I,{})}}export{T as default};
